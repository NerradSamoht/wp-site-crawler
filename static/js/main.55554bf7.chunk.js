(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,n){},16:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),l=n(3),r=n.n(l),o=(n(15),n(4)),c=n(5),s=n(7),u=n(6),m=n(8),h=n(1),p=(n(16),"/wp-json/wp/v2/media?per_page=100"),g=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={url:"",description:null,main:[],posts:[],postCount:0,pages:[],pageCount:0,images:[],imageCount:0,nextPage:1},n.handleOnMediaButtonClick=n.handleOnMediaButtonClick.bind(Object(h.a)(Object(h.a)(n))),n.handleChange=function(e){n.setState({url:e.target.value})},n.handleClick=function(){n.getData()},n.filterImagesByMediaType=function(e){return"image"===e.media_type},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"getData",value:function(){var e=this,t=this.state.url,n=t+"/wp-json/wp/v2/pages?per_page=100",a=t+"/wp-json/wp/v2/posts?per_page=100",i=t+p;fetch(t+"/wp-json").then(function(e){return e.json()}).then(function(t){e.setState({main:t,url:t.url,description:t.description})}),fetch(n).then(function(e){return e.json()}).then(function(t){e.setState({pages:t,pageCount:t.length})}),fetch(a).then(function(e){return e.json()}).then(function(t){e.setState({posts:t,postCount:t.length})}),fetch(i).then(function(e){return e.json()}).then(function(t){var n=t.filter(e.filterImagesByMediaType);e.setState({images:n,imageCount:n.length})})}},{key:"handleOnMediaButtonClick",value:function(){this.setState(function(e){return{nextPage:e.nextPage+1}},function(){this.getMediaNextPage()})}},{key:"getMediaNextPage",value:function(){var e=this;fetch("".concat(this.state.url).concat(p,"&page=").concat(this.state.nextPage)).then(function(e){return e.json()}).then(function(t){var n=t.filter(e.filterImagesByMediaType),a=e.state.images.concat(n).filter(function(e,t,n){return t===n.findIndex(function(t){return t.id===e.id})});e.setState({images:a,imageCount:a.length})}).catch(function(e){return console.log("Error: "+e)})}},{key:"render",value:function(){var e=this.state,t=e.url,n=e.description,a=e.pageCount,l=e.postCount,r=e.imageCount,o=i.a.createElement("ul",null,this.state.pages.map(function(e){return i.a.createElement("li",{key:"page-"+e.id},e.link)})),c=i.a.createElement("ul",null,this.state.posts.map(function(e){return i.a.createElement("li",{key:"post-"+e.id},e.link)})),s=i.a.createElement("ul",{className:"thumbnails"},this.state.images.map(function(e){return i.a.createElement("li",{key:"media-"+e.id},i.a.createElement("a",{href:e.guid.rendered,target:"_blank",rel:"noopener noreferrer"},e.media_details&&e.media_details.sizes&&e.media_details.sizes.thumbnail?i.a.createElement("img",{alt:e.alt_text,src:e.media_details.sizes.thumbnail.source_url,width:"150",height:"150"}):i.a.createElement("img",{alt:e.alt_text,src:e.source_url,width:"150",height:"150"}))," ",i.a.createElement("span",{className:"alt-text"},e.alt_text))}));return i.a.createElement("div",{className:"app"},i.a.createElement("div",null,i.a.createElement("label",{htmlFor:"input"},"Enter a url: "),i.a.createElement("input",{id:"input",type:"url",onChange:this.handleChange}),i.a.createElement("button",{onClick:this.handleClick},"Submit")),i.a.createElement("p",null,"Site: ",t),i.a.createElement("p",null,"Tagline: ",n),i.a.createElement("p",null,"Pages: ",a),i.a.createElement("p",null,"Posts: ",l),i.a.createElement("section",null,i.a.createElement("h2",null,"Pages (",a,")"),o),i.a.createElement("section",null,i.a.createElement("h2",null,"Posts (",l,")"),c),i.a.createElement("section",null,i.a.createElement("h2",null,"Images (",r,")"),s,i.a.createElement("button",{className:"imageButton",onClick:this.handleOnMediaButtonClick},"Show more")))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,t,n){e.exports=n(17)}},[[9,1,2]]]);
//# sourceMappingURL=main.55554bf7.chunk.js.map